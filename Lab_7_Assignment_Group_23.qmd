---
title: "Lab_7_Assignment_Group_23"
format:
  html:
    embed-resources: true
editor: visual
---

# **Lab 7 Assignment: Group 23**

# Lab 7: Collaborative Bio Data Science using GitHub via RStudio

**Group 23, members:**

-   Ana Pastor Mediavilla - s222761

-   Carlos de Santiago Le√≥n - s222766

-   Laura Figueiredo Tor - s222797

-   Monika Karolina Borkowska - s223203

-   Amanda Jimenez Lobato - s233150

## 1. Load libraries

```{r}
library('tidyverse')
library('broom')
library('patchwork')

if(!require('cowplot')) {
  install.packages('cowplot')
  library('cowplot')
}
```

## 2. Load data

```{r}
#| message: false 
biopsy <- read_csv("https://wilkelab.org/classes/SDS348/data_sets/biopsy.csv")

biopsy
```

## 3. Analysis and Results

### 3.1. Data in PC coordinates

We fit first the PCA method according to the data by selecting the numeric features of the dataset and scaling them to have unit variance.

```{r}
pca_fit <- biopsy %>% 
  select(where(is.numeric)) %>% 
  prcomp(scale = TRUE)
```

```{r}
pca_fit <- biopsy %>% 
  select(where(is.numeric)) %>% 
  scale() %>% 
  prcomp()
```

Then, we reconstruct the data into the PC components and plot them, for analyzing possible relation/clustering according to the variable of interest (which in our study is the target/outcome related to the presence of a bening or malignant tumour).

```{r}
pca_fit %>%
  augment(biopsy) %>% 
  ggplot(aes(.fittedPC1, 
             .fittedPC2, 
             color = outcome)) + 
  geom_point(size = 1.5) +
  labs(title = "PCA scores",
       x = "Fitted PC1", 
       y = "Fitted PC2",
       color = "Outcome") + 
  scale_color_manual(values = c(malignant = "#D55E00", 
                                benign = "#0072B2")) +
  theme_half_open(12) + 
  background_grid() +
  theme(plot.title = element_text(hjust = 0.5))
```

From this PCA scores plot, we can observe a clear clustering according to the outcome variable by only looking at the two first principal components. This means that some numeric information from some of the data variables is shared between the two different outcomes. For example, benign data points can have similar values in variables like the uniform_cell_size, while the malignant data may have a different range.

This clear differential clustering between the two data labels suggests that the dataset could be applied for further studies and applications such as machine learning algorithms for cancer diagnosis.

### 3.2. Rotation matrix

### 3.3. Variance

## 4. Discussion
